!function(){"use strict";function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function n(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function e(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(self.webpackChunkexample=self.webpackChunkexample||[]).push([[745],{54745:function(n,i,r){r.r(i),r.d(i,{UsuariosModule:function(){return L}});var a,o=r(38583),u=r(90665),s=r(7448),c=r(9001),l=r(34570),d=r(44741),g=r(1558),f=r(64762),h=r(23075),p=r(37716),m=r(26997),U=r(91841),_=r(44531),v=((a=function(){function n(e,i){t(this,n),this.http=e,this.configService=i,this.apiRoot=i.config.webApiBaseUrl+"/usuario"}return e(n,[{key:"obtener",value:function(){return this.http.get(this.apiRoot)}},{key:"obtenerPorId",value:function(t){return this.http.get(this.apiRoot+"/".concat(t))}},{key:"guardar",value:function(t){return this.http.post(this.apiRoot,t)}},{key:"eliminar",value:function(t){return this.http.delete(this.apiRoot+"/".concat(t))}}]),n}()).\u0275fac=function(t){return new(t||a)(p.LFG(U.eN),p.LFG(_.E4))},a.\u0275prov=p.Yz7({token:a,factory:a.\u0275fac}),a),Z=function(){var n=function(){function n(e){t(this,n),this.hostElement=e,this.conDecimales=!1,this.conNegativos=!1,this.separadorDecimal=".",this.permitir="numeros",this.canCut=!0,this.canCopy=!0,this.canPaste=!0,this.valorAnterior="",this.enteroSinSigno="^[0-9]*$",this.enteroConSigno="^-?[0-9]+$",this.decimalSinSigno="^[0-9]+(.[0-9]+)?$",this.decimalConSigno="^-?[0-9]+(.[0-9]+)?$",this.soloLetras="[a-zA-Z\xf1\xd1\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xdas]"}return e(n,[{key:"onPaste",value:function(t){if(this.canPaste){var n=t.clipboardData.getData("text/plain");this.validateValue(n,t)}else t.preventDefault()}},{key:"onCopy",value:function(t){this.canCopy||t.preventDefault()}},{key:"onCut",value:function(t){this.canCut||t.preventDefault()}},{key:"onKeyDown",value:function(t){var n=t.target.selectionStart,e=t.target.value,i=this.getName(t),r=!0===t.ctrlKey||!0===t.metaKey,a=e.includes("-"),o=e.includes(this.separadorDecimal),u=["Backspace","ArrowLeft","ArrowRight","Escape","Tab"];this.conDecimales&&!(a&&n<=1)&&!o&&u.push("."===this.separadorDecimal?".":",");var s=e.charAt(0)!==this.separadorDecimal;if(this.conNegativos&&!a&&s&&0===n&&u.push("-"),!(-1!==u.indexOf(i)||"a"===i&&r||"c"===i&&r||"v"===i&&r||"x"===i&&r)){var c;switch(this.valorAnterior=e,this.permitir){case"numeros":c=this.enteroSinSigno;break;case"letras":c=this.soloLetras;break;default:t.preventDefault()}new RegExp(c).test(i)||t.preventDefault()}}},{key:"validateValue",value:function(t,n){var e;switch(this.permitir){case"numeros":e=this.getRegex();break;case"letras":e=this.soloLetras;break;default:n.preventDefault()}new RegExp(e).test(t)||n.preventDefault()}},{key:"getRegex",value:function(){var t="";return!this.conDecimales&&!this.conNegativos&&(t=this.enteroSinSigno),!this.conDecimales&&this.conNegativos&&(t=this.enteroConSigno),this.conDecimales&&!this.conNegativos&&(t=this.decimalSinSigno),this.conDecimales&&this.conNegativos&&(t=this.decimalConSigno),t}},{key:"getName",value:function(t){if(t.key)return t.key;if(t.keyCode&&String.fromCharCode)switch(t.keyCode){case 8:return"Backspace";case 9:return"Tab";case 27:return"Escape";case 37:return"ArrowLeft";case 39:return"ArrowRight";case 188:return",";case 190:return".";case 109:case 173:case 189:return"-";default:return String.fromCharCode(t.keyCode)}return""}}]),n}();return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.SBq))},n.\u0275dir=p.lG2({type:n,selectors:[["","appRestringirTipo",""]],hostBindings:function(t,n){1&t&&p.NdJ("paste",function(t){return n.onPaste(t)})("copy",function(t){return n.onCopy(t)})("cut",function(t){return n.onCut(t)})("keydown",function(t){return n.onKeyDown(t)})},inputs:{conDecimales:"conDecimales",conNegativos:"conNegativos",separadorDecimal:"separadorDecimal",permitir:"permitir",canCut:"canCut",canCopy:"canCopy",canPaste:"canPaste"}}),n}();function b(t,n){1&t&&(p.TgZ(0,"span",29),p._uU(1,"\n                  Este campo es requerido\n                "),p.qZA())}function y(t,n){if(1&t){var e=p.EpF();p.TgZ(0,"button",30),p.NdJ("click",function(){p.CHM(e),p.oxw();var t=p.MAs(3);return p.oxw().resetForm(t)}),p._uU(1,"\n                "),p._UZ(2,"i",31),p._uU(3," Reset\n              "),p.qZA()}}var A=function(){return["/usuarios"]};function k(t,n){if(1&t){var e=p.EpF();p.TgZ(0,"div",4),p._uU(1,"\n        "),p.TgZ(2,"form",5,6),p.NdJ("ngSubmit",function(){return p.CHM(e),p.oxw().enviar()}),p._uU(4,"\n          "),p.TgZ(5,"div",7),p._uU(6,"\n            "),p.TgZ(7,"strong"),p._uU(8),p.qZA(),p._uU(9,"\n            "),p.TgZ(10,"div",8),p._uU(11,"\n              "),p.TgZ(12,"a",9),p._uU(13,"\n                "),p._UZ(14,"i",10),p._uU(15,"\n              "),p.qZA(),p._uU(16,"\n            "),p.qZA(),p._uU(17,"\n          "),p.qZA(),p._uU(18,"\n          "),p.TgZ(19,"div",11),p._uU(20,"\n            "),p.TgZ(21,"div",12),p._uU(22,"\n              "),p.TgZ(23,"label",13),p._uU(24,"Nombre"),p.qZA(),p._uU(25,"\n              "),p.TgZ(26,"div",14),p._uU(27,"\n                "),p.TgZ(28,"input",15,16),p.NdJ("ngModelChange",function(t){return p.CHM(e),p.oxw().item.nombre=t}),p.qZA(),p._uU(30,"\n                  "),p._uU(31,"\n\n                "),p.YNc(32,b,2,0,"span",17),p._uU(33,"\n              "),p.qZA(),p._uU(34,"\n            "),p.qZA(),p._uU(35,"\n\n            "),p.TgZ(36,"div",12),p._uU(37,"\n              "),p.TgZ(38,"label",18),p._uU(39,"Administrador"),p.qZA(),p._uU(40,"\n              "),p.TgZ(41,"div",14),p._uU(42,"\n                "),p.TgZ(43,"label",19),p._uU(44,"\n                  "),p.TgZ(45,"input",20),p.NdJ("ngModelChange",function(t){return p.CHM(e),p.oxw().item.administrador=t}),p.qZA(),p._uU(46,"\n                  "),p._UZ(47,"span",21),p._uU(48," "),p._UZ(49,"span",22),p._uU(50,"\n                "),p.qZA(),p._uU(51,"\n              "),p.qZA(),p._uU(52,"\n            "),p.qZA(),p._uU(53,"\n          "),p.qZA(),p._uU(54,"\n          "),p.TgZ(55,"div",23),p._uU(56,"\n            "),p.TgZ(57,"div",24),p._uU(58,"\n              "),p.YNc(59,y,4,0,"button",25),p._uU(60,"\n              "),p.TgZ(61,"button",26),p.NdJ("click",function(){return p.CHM(e),p.oxw().regresar()}),p._uU(62,"Cancelar"),p.qZA(),p._uU(63,"\n              "),p.TgZ(64,"button",27),p._uU(65,"\n                "),p._UZ(66,"i",28),p._uU(67," Enviar\n              "),p.qZA(),p._uU(68,"\n            "),p.qZA(),p._uU(69,"\n          "),p.qZA(),p._uU(70,"\n        "),p.qZA(),p._uU(71,"\n      "),p.qZA()}if(2&t){var i=p.MAs(3),r=p.MAs(29),a=p.oxw();p.xp6(8),p.Oqu(a.title),p.xp6(4),p.Q6J("routerLink",p.DdM(9,A)),p.xp6(16),p.Q6J("ngModel",a.item.nombre)("disabled",a.id)("permitir","letras"),p.xp6(4),p.Q6J("ngIf",!r.valid&&(r.dirty||r.touched)),p.xp6(13),p.Q6J("ngModel",a.item.administrador),p.xp6(14),p.Q6J("ngIf",!a.id),p.xp6(5),p.Q6J("disabled",!i.valid)}}var T=e(function n(){t(this,n)}),q=function(){function n(e,i,r,a){t(this,n),this.route=e,this.router=i,this.toasterService=r,this.service=a,this.title="",this.item=new T,this.item.administrador=!1,this.mensaje=new h.k(r)}return e(n,[{key:"ngOnInit",value:function(){var t=this;this.sub=this.route.params.subscribe(function(n){t.id=+n.id,t.title=t.id?"Editar usuario - ":"Nuevo usuario",t.id&&(t.blockUI.start("Loading..."),t.service.obtenerPorId(t.id).subscribe(function(n){t.item=n.data,t.blockUI.stop(),t.title+=t.item.nombre}))})}},{key:"resetForm",value:function(t){this.item=new T,this.item.administrador=!1}},{key:"regresar",value:function(){this.router.navigate(["/usuarios"])}},{key:"enviar",value:function(){var t=this;this.blockUI.start("Loading..."),this.service.guardar(this.item).subscribe(function(n){t.regresar()},function(n){t.mensaje.messageError(n.data?n.data.userMessage:n.meta.message),t.blockUI.stop()})}}]),n}();q.\u0275fac=function(t){return new(t||q)(p.Y36(g.gz),p.Y36(g.F0),p.Y36(m.MJ),p.Y36(v))},q.\u0275cmp=p.Xpm({type:q,selectors:[["usuarios-form"]],decls:11,vars:1,consts:[[1,"animated","fadeIn"],[1,"row","justify-content-center"],[1,"col-md-8"],["class","card",4,"blockUI"],[1,"card"],[1,"form-horizontal",3,"ngSubmit"],["frmUsuario","ngForm"],[1,"card-header"],[1,"card-actions"],["tooltip","Regresar","href","#",1,"btn-setting","text-primary",3,"routerLink"],[1,"icon-arrow-left-circle"],[1,"card-body"],[1,"form-group","row"],["for","name",1,"col-md-3","form-control-label"],[1,"col-md-9"],["name","nomUsuario","placeholder","Ingrese nombre de usuario (Sin dominio)","type","text","required","","appRestringirTipo","",1,"form-control",3,"ngModel","disabled","permitir","ngModelChange"],["nomUsuario","ngModel"],["class","help-block text-danger",4,"ngIf"],["for","chk",1,"col-md-3","form-control-label"],[1,"switch","switch-default","switch-pill","switch-success-outline-alt"],["name","idUsuario","type","checkbox",1,"switch-input",3,"ngModel","ngModelChange"],[1,"switch-label"],[1,"switch-handle"],[1,"card-footer","clearfix"],[1,"group-buttons","float-right"],["class","btn btn-sm","type","reset",3,"click",4,"ngIf"],["type","button",1,"btn","btn-sm","btn-danger",3,"click"],["type","submit",1,"btn","btn-sm","btn-primary",3,"disabled"],[1,"far","fa-dot-circle"],[1,"help-block","text-danger"],["type","reset",1,"btn","btn-sm",3,"click"],[1,"fa","fa-ban"]],template:function(t,n){1&t&&(p.TgZ(0,"div",0),p._uU(1,"\n  "),p.TgZ(2,"div",1),p._uU(3,"\n    "),p.TgZ(4,"div",2),p._uU(5,"\n      "),p.YNc(6,k,72,10,"div",3),p._uU(7,"\n    "),p.qZA(),p._uU(8,"\n  "),p.qZA(),p._uU(9,"\n"),p.qZA(),p._uU(10,"\n")),2&t&&(p.xp6(6),p.Q6J("blockUI","usuario-data"))},directives:[d.Z2,u._Y,u.JL,u.F,g.yS,u.Fj,u.Q7,Z,u.JJ,u.On,o.O5,u.Wl],encapsulation:2}),(0,f.gn)([(0,d.bH)("usuario-data")],q.prototype,"blockUI",void 0);var w=r(88259),x=r.n(w),C=function(t){return["/usuarios/form/edit",t]};function M(t,n){if(1&t){var e=p.EpF();p.TgZ(0,"tr"),p._uU(1,"\n                      "),p.TgZ(2,"td"),p._uU(3),p.qZA(),p._uU(4,"\n                      "),p.TgZ(5,"td",16),p.TgZ(6,"input",17),p.NdJ("ngModelChange",function(t){return p.CHM(e).$implicit.administrador=t}),p.qZA(),p.qZA(),p._uU(7,"\n                      "),p.TgZ(8,"td",18),p._uU(9,"\n                        "),p.TgZ(10,"div",19),p._uU(11,"\n                          "),p.TgZ(12,"a",20),p._uU(13,"\n                            "),p._UZ(14,"i",21),p._uU(15,"\n                          "),p.qZA(),p._uU(16,"\n                          "),p.TgZ(17,"button",22),p.NdJ("click",function(){var t=p.CHM(e).$implicit;return p.oxw(3).eliminar(t.id)}),p._uU(18,"\n                            "),p._UZ(19,"i",23),p._uU(20,"\n                          "),p.qZA(),p._uU(21,"\n                          "),p._uU(22,"\n                        "),p.qZA(),p._uU(23,"\n                      "),p.qZA(),p._uU(24,"\n                    "),p.qZA()}if(2&t){var i=n.$implicit;p.xp6(3),p.Oqu(i.nombre),p.xp6(3),p.MGl("id","",i.id,"_administrador"),p.Q6J("ngModel",i.administrador),p.xp6(6),p.Q6J("routerLink",p.VKq(4,C,i.id))}}function S(t,n){if(1&t&&(p.TgZ(0,"tbody"),p._uU(1,"\n                    "),p.YNc(2,M,25,6,"tr",15),p._uU(3,"\n                  "),p.qZA()),2&t){var e=p.oxw(2);p.xp6(2),p.Q6J("ngForOf",e.usuarios)}}function N(t,n){1&t&&(p.TgZ(0,"tbody"),p._uU(1,"\n                    "),p.TgZ(2,"tr"),p._uU(3,"\n                      "),p.TgZ(4,"td",24),p._uU(5,"No existen elementos para mostrar"),p.qZA(),p._uU(6,"\n                    "),p.qZA(),p._uU(7,"\n                  "),p.qZA())}var J=function(){return["/usuarios/form/add"]};function D(t,n){if(1&t&&(p.TgZ(0,"div",4),p._uU(1,"\n\n        "),p.TgZ(2,"div",5),p._uU(3,"\n          "),p.TgZ(4,"strong"),p._uU(5,"Listado de usuarios"),p.qZA(),p._uU(6,"\n          "),p.TgZ(7,"div",6),p._uU(8,"\n            "),p.TgZ(9,"a",7),p._uU(10,"\n              "),p._UZ(11,"i",8),p._uU(12,"\n            "),p.qZA(),p._uU(13,"\n          "),p.qZA(),p._uU(14,"\n        "),p.qZA(),p._uU(15,"\n\n        "),p.TgZ(16,"div",9),p._uU(17,"\n          "),p.TgZ(18,"div",10),p._uU(19,"\n\n            "),p.TgZ(20,"div",1),p._uU(21,"\n              "),p.TgZ(22,"div",2),p._uU(23,"\n                "),p.TgZ(24,"table",11),p._uU(25,"\n                  "),p.TgZ(26,"thead"),p._uU(27,"\n                    "),p.TgZ(28,"tr"),p._uU(29,"\n                      "),p.TgZ(30,"th",12),p._uU(31,"Usuario"),p.qZA(),p._uU(32,"\n                      "),p.TgZ(33,"th",13),p._uU(34,"Es Administrador"),p.qZA(),p._uU(35,"\n                      "),p._UZ(36,"th"),p._uU(37,"\n                    "),p.qZA(),p._uU(38,"\n                  "),p.qZA(),p._uU(39,"\n                  "),p.YNc(40,S,4,1,"tbody",14),p._uU(41,"\n                  "),p.YNc(42,N,8,0,"tbody",14),p._uU(43,"\n                "),p.qZA(),p._uU(44,"\n              "),p.qZA(),p._uU(45,"\n            "),p.qZA(),p._uU(46,"\n        "),p.qZA(),p._uU(47,"\n\n      "),p.qZA(),p._uU(48,"\n    "),p.qZA()),2&t){var e=p.oxw();p.xp6(9),p.Q6J("routerLink",p.DdM(3,J)),p.xp6(31),p.Q6J("ngIf",e.usuarios.length>0),p.xp6(2),p.Q6J("ngIf",0==e.usuarios.length)}}var I=function(){function n(e,i){t(this,n),this.toasterService=e,this.usuariosService=i,this.usuarios=[],this.mensaje=new h.k(e)}return e(n,[{key:"ngOnInit",value:function(){this.fillTable()}},{key:"fillTable",value:function(){var t=this;this.blockUI.start("Cargando..."),this.usuariosService.obtener().subscribe(function(n){t.usuarios=n.data,t.blockUI.stop()})}},{key:"eliminar",value:function(t){var n=this;x().fire({title:"Seguro que desea eliminar el usuario?",text:"No se podra revertir",icon:"warning",showCancelButton:!0,cancelButtonText:"Cancelar",confirmButtonColor:"#D60D2B",confirmButtonText:"Si, Eliminar!",reverseButtons:!0}).then(function(e){e.value&&n.usuariosService.eliminar(t).subscribe(function(t){n.mensaje.messageSuccess("Registro eliminado correctamente"),n.fillTable()},function(t){n.mensaje.messageError(t.data?t.data.userMessage:t.meta.message)})})}}]),n}();I.\u0275fac=function(t){return new(t||I)(p.Y36(m.MJ),p.Y36(v))},I.\u0275cmp=p.Xpm({type:I,selectors:[["app-usuarios-management"]],decls:10,vars:1,consts:[[1,"animated","fadeIn"],[1,"row"],[1,"col-md-12"],["class","card",4,"blockUI"],[1,"card"],[1,"card-header"],[1,"card-actions"],["tooltip","Agregar Nuevo","href","#",1,"btn-setting","text-primary",3,"routerLink"],[1,"fas","fa-plus"],[1,"card-body"],[1,"form"],[1,"table","table-striped","table-sm"],["scope","col"],["scope","col",2,"text-align","center"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"tab-width-15",2,"text-align","center"],["type","checkbox","disabled","",3,"id","ngModel","ngModelChange"],[1,"tab-width-10"],[1,"text-center"],["id","","href","#","role","button",1,"btn","btn-info","btn-sm",3,"routerLink"],[1,"fas","fa-pencil-alt"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],[1,"far","fa-trash-alt"],["colspan","3","align","center"]],template:function(t,n){1&t&&(p.TgZ(0,"div",0),p._uU(1,"\n  "),p.TgZ(2,"div",1),p._uU(3,"\n    "),p.TgZ(4,"div",2),p._uU(5,"\n\n      "),p.YNc(6,D,49,4,"div",3),p._uU(7,"\n  "),p.qZA(),p._uU(8,"\n"),p.qZA(),p._uU(9,"\n"),p.qZA()),2&t&&(p.xp6(6),p.Q6J("blockUI","usuarios-list"))},directives:[d.Z2,g.yS,o.O5,o.sg,u.Wl,u.JJ,u.On],styles:[".tab-width-5[_ngcontent-%COMP%]{width:5%}.tab-width-10[_ngcontent-%COMP%]{width:10%}.tab-width-15[_ngcontent-%COMP%]{width:15%}.tab-width-40[_ngcontent-%COMP%]{width:40%}"]}),(0,f.gn)([(0,d.bH)("usuarios-list")],I.prototype,"blockUI",void 0);var E=g.Bz.forChild([{path:"",component:function(){var n=function(){function n(){t(this,n)}return e(n,[{key:"ngOnInit",value:function(){}}]),n}();return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=p.Xpm({type:n,selectors:[["usuarios"]],decls:2,vars:0,template:function(t,n){1&t&&(p._UZ(0,"router-outlet"),p._uU(1,"\n"))},directives:[g.lC],encapsulation:2}),n}(),children:[{path:"",component:I},{path:"form/add",data:{title:"Agregar"},component:q},{path:"form/edit/:id",data:{title:"Editar"},component:q}]}]),O=r(78434),L=function(){var n=e(function n(){t(this,n)});return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[v],imports:[[o.ez,u.u5,u.UX,E,s.mr,l.U$,c.Fq,d.uh,O.o]]}),n}()}}])}();